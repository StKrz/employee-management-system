<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Create New User</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/css/create_employee.css}">
</head>
<body>
    <button class="custom-button" onclick="window.location.href='/admin/home'">
        <div class="button-content">
            <svg
                    width="25px"
                    height="25px"
                    viewBox="0 0 1024 1024"
                    xmlns="http://www.w3.org/2000/svg"
            >
                <path
                        fill="#000000"
                        d="M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z"
                ></path>
                <path
                        fill="#000000"
                        d="m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z"
                ></path>
            </svg>
        </div>
        <p class="button-text">Go Back</p>
    </button>
    <div class="form-container">
    <h2>Create New User</h2>
    <form id="userForm" th:action="@{/admin/users/register}" th:object="${user}" method="post">
        <label for="username">Username:</label>
        <input type="text" id="username" th:field="*{username}" required />
        <div th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></div>

        <label for="email">Email:</label>
        <input type="email" id="email" th:field="*{email}" required />
        <div th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div>

        <label for="password">Password:</label>
        <input type="password" id="password" th:field="*{password}" required />
        <div th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></div>

        <label for="role">Role:</label>
        <select id="role" th:field="*{role}" required>
            <option value="" disabled selected>Select role</option>
            <option value="ADMIN">Admin</option>
            <option value="EMPLOYEE">Employee</option>
        </select>
        <div th:if="${#fields.hasErrors('role')}" th:errors="*{role}"></div>

        <h3>Employee Details</h3>

        <label for="firstName">First Name:</label>
        <input type="text" id="firstName" name="employee.firstname" required />

        <label for="lastName">Last Name:</label>
        <input type="text" id="lastName" name="employee.lastname" required />

        <label for="employeeEmail">Employee Email:</label>
        <input type="email" id="employeeEmail" name="employee.email" required />

        <label for="phoneNumber">Phone Number:</label>
        <input type="text" id="phoneNumber" name="employee.phoneNumber" />

        <label for="salary">Salary:</label>
        <input type="number" id="salary" name="employee.salary" />

        <label for="department">Department:</label>
        <select id="department" name="employee.departmentId" required>
            <option value="" disabled selected>Select department</option>
            <option th:each="department : ${departments}" th:value="${department.departmentId}" th:text="${department.departmentName}"></option>
        </select>

        <label for="position">Position:</label>
        <select id="position" name="employee.positionId" required>
            <option value="" disabled selected>Select position</option>
            <option th:each="position : ${positions}" th:value="${position.positionId}" th:text="${position.positionName}"></option>
        </select>

        <button type="submit" class="submit-button">Create User</button>
    </form>
    <div th:if="${errorMessage}" th:text="${errorMessage}" style="color: red;"></div>
</div>
    <script th:src="@{/js/create_employee.js}"></script>
</body>
</html>
